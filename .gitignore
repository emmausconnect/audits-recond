# Ignore everything at first level
/*

# Allow only these directories
!api/
!storage/

# Ignore everything in all other subdirectories  
*/*

# But allow everything in api and storage recursively
!api/**
!storage/**

# Allow .gitkeep everywhere
!**/.gitkeep

# Now block specific file types
api/**/*.txt
api/**/*.log
storage/**/*.zip
storage/**/*.exe
storage/**/*.iso

# Block config.php
config.php
**/config.php